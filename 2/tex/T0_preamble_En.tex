% ==============================================================================
% T0 Theory: Standardized English Preamble
% Version: 1.0
% Author: Johann Pascher
% ==============================================================================
% This file contains all necessary packages and definitions for English
% T0 Theory documents. Use \input{T0_preamble_En} after \documentclass.
% ==============================================================================

% --- Encoding and Language ---
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{lmodern}

% --- Page Geometry ---
\usepackage[a4paper, margin=2.5cm]{geometry}
\setlength{\headheight}{15pt}

% --- Mathematics and Physics ---
\usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage{mathtools}
\usepackage{physics}
\usepackage{siunitx}
\sisetup{
    locale=US,
    group-separator={,},
    output-decimal-marker={.},
    per-mode=symbol
}

% --- Graphics and Tables ---
\usepackage{graphicx}
\usepackage[table,xcdraw]{xcolor}
\usepackage{tikz}
\usetikzlibrary{arrows.meta,positioning,shapes.geometric,decorations.pathmorphing,patterns,shapes.arrows,intersections}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage{tcolorbox}
\usepackage{booktabs}
\usepackage{array}
\usepackage{longtable}
\usepackage{float}
\usepackage{adjustbox}
\usepackage{tabularx}
\usepackage{multirow}

% --- Document Formatting ---
\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
\usepackage{tocloft}
\usepackage{hyperref}
\usepackage{bookmark}
\usepackage{cleveref}
\usepackage{microtype}
\usepackage{enumitem}
\usepackage{setspace}
\usepackage{ragged2e}
\usepackage{multicol}

% --- Code and Algorithms ---
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{listings}
\usepackage{mdframed}

% --- Additional Packages ---
\usepackage{pdflscape}
\usepackage{braket}
\usepackage{cancel}
\usepackage{caption}
\usepackage{csquotes}
\usepackage{gensymb}
\usepackage{hyphenat}
\usepackage{textcomp}
\usepackage{textgreek}
\usepackage{upgreek}
\usepackage{url}
\usepackage{slashed}
\usepackage{bm}

% --- Column Types ---
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}

% --- Unicode Characters ---
\usepackage{newunicodechar}
\newunicodechar{ħ}{$\hbar$}
\newunicodechar{↔}{$\leftrightarrow$}
\newunicodechar{⇐}{$\Leftarrow$}
\newunicodechar{⇒}{$\Rightarrow$}
\newunicodechar{⇔}{$\Leftrightarrow$}
\newunicodechar{∂}{$\partial$}
\newunicodechar{∅}{$\emptyset$}
\newunicodechar{∇}{$\nabla$}
\newunicodechar{∈}{$\in$}
\newunicodechar{∉}{$\notin$}
\newunicodechar{∏}{$\prod$}
\newunicodechar{∑}{$\sum$}
\newunicodechar{√}{$\sqrt{}$}
\newunicodechar{∝}{$\propto$}
\newunicodechar{∞}{$\infty$}
\newunicodechar{∩}{$\cap$}
\newunicodechar{∪}{$\cup$}
\newunicodechar{∫}{$\int$}
\newunicodechar{≈}{$\approx$}
\newunicodechar{≠}{$\neq$}
\newunicodechar{≤}{$\leq$}
\newunicodechar{≥}{$\geq$}
\newunicodechar{ξ}{\ensuremath{\xi}}
\newunicodechar{μ}{\ensuremath{\mu}}
\newunicodechar{ψ}{\ensuremath{\psi}}
\newunicodechar{φ}{\ensuremath{\phi}}
\newunicodechar{π}{\ensuremath{\pi}}
\newunicodechar{λ}{\ensuremath{\lambda}}
\newunicodechar{Δ}{\ensuremath{\Delta}}

% --- Colors ---
\definecolor{blue}{rgb}{0,0,1}
\definecolor{boxgray}{RGB}{240,240,240}
\definecolor{deepblue}{RGB}{0,0,127}
\definecolor{deepgreen}{RGB}{0,127,0}
\definecolor{deepred}{RGB}{191,0,0}
\definecolor{t0blue}{RGB}{33,150,243}
\definecolor{t0green}{RGB}{76,175,80}
\definecolor{t0orange}{RGB}{255,152,0}
\definecolor{t0purple}{RGB}{156,39,176}
\definecolor{t0red}{RGB}{244,67,54}
\definecolor{t0yellow}{RGB}{255,204,0}

% --- Hyperref Settings ---
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    citecolor=blue,
    urlcolor=blue,
    breaklinks=true,
    bookmarksnumbered=true,
    pdfstartview=FitH
}

% --- Theorem Environments (English) ---
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{insight}[theorem]{Insight}
\newtheorem{discovery}[theorem]{Discovery}

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{warning}[theorem]{Warning}
\newtheorem{axiom}{Axiom}
\newtheorem{principle}{Principle}

% --- T0-Specific Commands ---
\newcommand{\Tfield}{T(x,t)}
\newcommand{\Efield}{E(x,t)}
\newcommand{\mfield}{m(x,t)}
\newcommand{\Lag}{\mathcal{L}}
\newcommand{\calL}{\mathcal{L}}
\newcommand{\alphaem}{\alpha}
\newcommand{\betaT}{\beta_T}
\newcommand{\xiT}{\xi}
\newcommand{\xipar}{\xi}
\newcommand{\Ezero}{E_0}
\newcommand{\EPlanck}{E_{\text{Pl}}}
\newcommand{\Mpl}{M_{\text{Pl}}}
\newcommand{\lP}{\ell_{\text{P}}}
\newcommand{\tP}{t_{\text{P}}}
\newcommand{\LPlanck}{\ell_{\text{Pl}}}
\newcommand{\TPlanck}{t_{\text{Pl}}}
\newcommand{\Gnat}{G_{\text{nat}}}
\newcommand{\alphaEM}{\alpha_{\text{EM}}}
\newcommand{\alphaSI}{\alpha_{\text{SI}}}
\newcommand{\Hubble}{H_0}
\newcommand{\LCDM}{\Lambda\text{CDM}}
\newcommand{\natunits}{(nat. units)}

% T0 Model Parameters
\newcommand{\xigeom}{\xi_{\mathrm{geom}}}
\newcommand{\rzero}{r_{0}}
\newcommand{\xirat}{\xi_{\mathrm{rat}}}
\newcommand{\tzero}{t_{0}}
\newcommand{\Lambdat}{\Lambda_{\mathrm{t}}}
\newcommand{\EP}{E_{\mathrm{P}}}
\newcommand{\Emu}{E_{\mu}}
\newcommand{\Ee}{E_{e}}
\newcommand{\Etau}{E_{\tau}}
\newcommand{\alphafine}{\alpha_{\mathrm{fine}}}
\newcommand{\alphal}{\alpha_{\ell}}

% Additional Commands
\newcommand{\Kfrak}{K_{\text{frak}}}
\newcommand{\Dfrak}{D_{\text{frak}}}
\newcommand{\betapar}{\beta_T}
\newcommand{\alphapar}{\alpha}
\newcommand{\deltafield}{\delta \phi}
\newcommand{\deltam}{\delta m}
\newcommand{\deltaE}{\delta E}
\newcommand{\Exi}{E_{\xi}}
\newcommand{\Lxi}{\ell_{\xi}}
\newcommand{\rhoCMB}{\rho_{\text{CMB}}}
\newcommand{\rhoCasimir}{\rho_{\text{Casimir}}}
\newcommand{\Leff}{L_{\text{eff}}}
\newcommand{\CQCD}{C_{\mathrm{QCD}}}
\newcommand{\Kspec}{K_{\mathrm{spec}}}

% --- tcolorbox Styles ---
\tcbset{
    keyresult/.style={
        colback=blue!5!white,
        colframe=blue!75!black,
        title=Key Result,
        fonttitle=\bfseries
    },
    foundation/.style={
        colback=green!5!white,
        colframe=green!75!black,
        title=Foundation,
        fonttitle=\bfseries
    },
    alternative/.style={
        colback=orange!5!white,
        colframe=orange!75!black,
        title=Alternative,
        fonttitle=\bfseries
    },
    warningbox/.style={
        colback=red!5!white,
        colframe=red!75!black,
        title=Warning,
        fonttitle=\bfseries
    }
}

\newtcolorbox{keyresultbox}[1][]{keyresult, #1}
\newtcolorbox{foundationbox}[1][]{foundation, #1}
\newtcolorbox{alternativebox}[1][]{alternative, #1}
\newtcolorbox{warningboxenv}[1][]{warningbox, #1}

% Custom boxes for formulas
\newtcolorbox{fundamental}[1][]{
    colback=boxgray,
    colframe=t0blue,
    fonttitle=\bfseries,
    title=#1,
    sharp corners,
    boxrule=2pt
}

\newtcolorbox{newperspective}[1][]{
    colback=red!5!white,
    colframe=t0red,
    fonttitle=\bfseries,
    title=#1,
    sharp corners,
    boxrule=2pt
}

\newtcolorbox{formula}[1][]{
    colback=blue!5!white,
    colframe=blue!75!black,
    fonttitle=\bfseries,
    title=#1
}

\newtcolorbox{result}[1][]{
    colback=green!5!white,
    colframe=green!75!black,
    fonttitle=\bfseries,
    title=#1
}

% --- Layout Settings ---
\sloppy
\hfuzz=2pt
\vfuzz=2pt
\tolerance=1000
\emergencystretch=3em
\raggedbottom

% --- TOC Formatting ---
\renewcommand{\cftsecfont}{\color{blue}}
\renewcommand{\cftsubsecfont}{\color{blue}}
\renewcommand{\cftsecpagefont}{\color{blue}}
\renewcommand{\cftsubsecpagefont}{\color{blue}}
\renewcommand{\cfttoctitlefont}{\huge\bfseries\color{blue}}

% --- Default Header and Footer ---
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\textsc{T0 Theory}}
\fancyhead[R]{\textsc{J. Pascher}}
\fancyfoot[C]{\thepage}

% ==============================================================================
% End of Preamble
% ==============================================================================
