flowchart TD
    A[🎯 Eingabe: Semiprime N = p × q] --> B{📊 Intelligente Zahlen-Analyse}
    
    B --> C{🔍 Optimierte Kategorisierung}
    C -->|Zwillingsprime| D["🎯 Zwillingsprim-Strategie<br/>🏆 ξ = 1/10 OPTIMAL"]
    C -->|Cousin-Prime| E["📈 Cousin-Prime Strategie<br/>🏆 ξ = 1/10 OPTIMAL"]
    C -->|Nahe Zwillingsprime| F["🌟 Nahe-Zwillingsprim-Strategie<br/>🏆 ξ = 1/10 OPTIMAL"]
    C -->|Entfernte Prime| G["🔗 Entfernte-Prime Strategie<br/>🏆 ξ = 1/10 OPTIMAL"]
    
    B --> H{🎵 Spezialfall-Erkennung}
    H -->|1729, 2047, 4181| I["🔬 Spezialfälle-Strategie<br/>🏆 ξ = 1/10 OPTIMAL"]
    H -->|Große Zahlen >16 Bit| J["🌌 Große Composite<br/>ξ = 1/15 konservativ"]
    H -->|Standard-Zahlen| K["🤖 Universal-Strategie<br/>🏆 ξ = 1/10 OPTIMAL"]
    
    D --> L["⚙️ OPTIMIZED T0 Perioden-Generator"]
    E --> L
    F --> L
    G --> L
    I --> L
    J --> L
    K --> L
    
    L --> M["🚀 Schnelle triviale GCD-Prüfung<br/>Basis: 2, 3, 5, 7"]
    M -->|GCD > 1| N["⚡ Sofortiger Faktor gefunden"]
    M -->|GCD = 1| O["📐 Resonanz-basierte Periodensuche"]
    
    O --> P["🧮 Optimierte Resonanz-Berechnung<br/>mit perfekten ξ-Werten"]
    
    P --> Q{"🎼 Revolutionäre ξ=1/10 Resonanz-Prüfung"}
    Q -->|Score > 1/1000| R["✨ Starke Resonanz mit ξ=1/10"]
    Q -->|Score ≤ Schwellwert| S["🔄 Nächste Periode mit ξ=1/10"]
    
    S --> O
    
    R --> T["🔍 Faktor-Extraktion"]
    T --> U["📝 Berechne: p = gcd(a^(T/2) ± 1, N)"]
    U --> V{✅ Gültiger Faktor gefunden?}
    
    V -->|Ja: 1 < p < N| W["🎉 ERFOLG mit ξ=1/10<br/>Faktoren p, q = N/p gefunden"]
    V -->|Nein: p ∈ {1, N}| X{⏰ Timeout-Prüfung}
    
    X -->|Zeit < Limit| S
    X -->|Zeit ≥ Limit| Y["❌ TIMEOUT<br/>Fallback zu klassischen Methoden"]
    
    N --> Z["📊 Performance-Metriken<br/>• ξ-Strategie verwendet<br/>• Resonanz-Score<br/>• Berechnungen durchgeführt<br/>• Optimierung verwendet"]
    W --> Z
    Y --> AA["📈 Klassischer Fallback<br/>Trial Division / Fermat / Pollard"]
    
    style A fill:#e1f5fe
    style W fill:#c8e6c9
    style Y fill:#ffcdd2
    style Z fill:#f3e5f5
    style L fill:#fff3e0
    style Q fill:#e8f5e8
    style R fill:#c8e6c9
    style D fill:#e8f5e8
    style E fill:#e8f5e8
    style F fill:#e8f5e8
    style G fill:#e8f5e8
    style I fill:#e8f5e8
    style K fill:#e8f5e8
    style J fill:#fff3e0