% ==============================================================================
% T0 Theory: Shared English Preamble
% Version: 1.0
% Author: Johann Pascher
% Date: 2025
% ==============================================================================
%
% This is the standardized shared preamble for all English T0 Theory documents.
% Place this file in your document's directory or use a path like:
%   \input{path/to/T0_preamble_shared_En}
%
% Usage:
%   \documentclass[12pt,a4paper]{article}  % or book, report, etc.
%   \input{T0_preamble_shared_En}
%   \begin{document}
%   ...
%   \end{document}
%
% ==============================================================================

% =============================================================================
% SECTION 1: Encoding and Language
% =============================================================================
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}
\usepackage{lmodern}

% =============================================================================
% SECTION 2: Page Geometry
% =============================================================================
\usepackage[a4paper, left=2.5cm, right=2.5cm, top=2.5cm, bottom=3.5cm]{geometry}
\setlength{\headheight}{15pt}

% =============================================================================
% SECTION 3: Mathematics and Physics
% =============================================================================
\usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage{mathtools}
\usepackage{physics}
\usepackage{siunitx}
\sisetup{
    locale=US,
    group-separator={,},
    output-decimal-marker={.},
    per-mode=symbol
}

% =============================================================================
% SECTION 4: Graphics and Tables
% =============================================================================
\usepackage{graphicx}
\usepackage[table,xcdraw]{xcolor}
\usepackage{tikz}
\usetikzlibrary{arrows.meta,positioning,shapes.geometric,decorations.pathmorphing,patterns,shapes.arrows,intersections}
\usepackage{pgfplots}
\pgfplotsset{compat=1.18}
\usepackage[most]{tcolorbox}
\tcbuselibrary{breakable}
\usepackage{booktabs}
\usepackage{array}
\usepackage{longtable}
\usepackage{float}
\usepackage{adjustbox}
\usepackage{rotating}
\usepackage{tabularx}
\usepackage{makecell}
\usepackage{multirow}

% =============================================================================
% SECTION 5: Document Formatting
% =============================================================================
\usepackage{fancyhdr}
\renewcommand{\headrulewidth}{0.4pt}
\renewcommand{\footrulewidth}{0.4pt}
\usepackage{tocloft}
\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=black,
  citecolor=black,
  urlcolor=black,
  breaklinks=true,
  bookmarksnumbered=true,
  unicode=true
}
\usepackage{bookmark}
\usepackage{cleveref}

% Table of contents: only show chapters (not sections/subsections)
\setcounter{tocdepth}{3}  % Show sections, subsections, and subsubsections
\usepackage{microtype}
\usepackage{enumitem}
\usepackage{setspace}
\usepackage{ragged2e}
\usepackage{multicol}

% =============================================================================
% SECTION 6: Code and Algorithms
% =============================================================================
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{listings}
\lstset{
  basicstyle=\ttfamily\footnotesize,
  breaklines=true,
  breakatwhitespace=true,
  columns=flexible,
  keepspaces=true,
  showstringspaces=false,
  frame=single,
  xleftmargin=0pt,
  xrightmargin=0pt
}
\usepackage{mdframed}

% =============================================================================
% SECTION 7: Additional Packages
% =============================================================================
\usepackage{pdflscape}
\usepackage{braket}
\usepackage{cancel}
\usepackage{caption}
\usepackage{csquotes}
\usepackage{gensymb}
\usepackage{hyphenat}
\usepackage{textcomp}
\usepackage{textgreek}
\usepackage{upgreek}
\usepackage{url}
\usepackage{slashed}
\usepackage{bm}
\usepackage{newunicodechar}

% =============================================================================
% SECTION 8: Citation Commands (Compatibility)
% =============================================================================
\providecommand{\citep}[1]{\cite{#1}}
\providecommand{\citet}[1]{\cite{#1}}

% =============================================================================
% SECTION 9: Colors
% =============================================================================
\definecolor{gold}{RGB}{255,215,0}
\definecolor{blue}{rgb}{0,0,1}
\definecolor{boxgray}{RGB}{240,240,240}
\definecolor{deepblue}{RGB}{0,0,127}
\definecolor{deepgreen}{RGB}{0,127,0}
\definecolor{deepred}{RGB}{191,0,0}
\definecolor{t0blue}{RGB}{33,150,243}
\definecolor{t0green}{RGB}{76,175,80}
\definecolor{t0orange}{RGB}{255,152,0}
\definecolor{t0purple}{RGB}{156,39,176}
\definecolor{t0red}{RGB}{244,67,54}
\definecolor{t0yellow}{RGB}{255,204,0}

% =============================================================================
% SECTION 10: Column Types
% =============================================================================
\newcolumntype{L}[1]{>{\raggedright\arraybackslash}p{#1}}
\newcolumntype{C}[1]{>{\centering\arraybackslash}p{#1}}

% =============================================================================
% SECTION 11: Unicode Character Mappings
% =============================================================================
\newunicodechar{ħ}{$\hbar$}
\newunicodechar{↔}{$\leftrightarrow$}
\newunicodechar{⇐}{$\Leftarrow$}
\newunicodechar{⇒}{$\Rightarrow$}
\newunicodechar{⇔}{$\Leftrightarrow$}
\newunicodechar{∂}{$\partial$}
\newunicodechar{∅}{$\emptyset$}
\newunicodechar{∇}{$\nabla$}
\newunicodechar{∈}{$\in$}
\newunicodechar{∉}{$\notin$}
\newunicodechar{∏}{$\prod$}
\newunicodechar{∑}{$\sum$}
% Note: √ is mapped to an empty sqrt; use \sqrt{x} for proper usage
\newunicodechar{√}{\ensuremath{\sqrt{}}}
\newunicodechar{∝}{$\propto$}
\newunicodechar{∞}{$\infty$}
\newunicodechar{∩}{$\cap$}
\newunicodechar{∪}{$\cup$}
\newunicodechar{∫}{$\int$}
\newunicodechar{≈}{$\approx$}
\newunicodechar{≠}{$\neq$}
\newunicodechar{≤}{$\leq$}
\newunicodechar{≥}{$\geq$}
\newunicodechar{ξ}{\ensuremath{\xi}}
\newunicodechar{μ}{\ensuremath{\mu}}
\newunicodechar{ψ}{\ensuremath{\psi}}
\newunicodechar{φ}{\ensuremath{\phi}}
\newunicodechar{π}{\ensuremath{\pi}}
\newunicodechar{λ}{\ensuremath{\lambda}}
\newunicodechar{Δ}{\ensuremath{\Delta}}

% =============================================================================
% SECTION 12: Hyperref Settings
% =============================================================================
\hypersetup{
    colorlinks=true,
    linkcolor=blue,
    citecolor=blue,
    urlcolor=blue,
    breaklinks=true,
    bookmarksnumbered=true,
    pdfstartview=FitH
}

% =============================================================================
% SECTION 13: Theorem Environments (English)
% =============================================================================
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}

\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{example}[theorem]{Example}
\newtheorem{insight}[theorem]{Insight}
\newtheorem{discovery}[theorem]{Discovery}
% \newtheorem{erkenntnis}[theorem]{Insight}  % Commented out - conflicts with tcolorbox environment below

\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{axiom}{Axiom}
\newtheorem{principle}{Principle}
\newtheorem{bemerkung}[theorem]{Remark}
\newtheorem{warnung}[theorem]{Warning}

% =============================================================================
% SECTION 14: T0-Specific Commands
% =============================================================================

% --- Core T0 Fields ---
\newcommand{\Tfield}{T(x,t)}
\providecommand{\Tfieldt}{T(\vec{x},t)}
\newcommand{\Efield}{E(x,t)}
\newcommand{\mfield}{m(x,t)}
\providecommand{\vecx}{\vec{x}}

% --- Lagrangian ---
\newcommand{\Lag}{\mathcal{L}}
\newcommand{\calL}{\mathcal{L}}

% --- Greek Letters and Constants ---
\newcommand{\alphaem}{\alpha}
\newcommand{\betaT}{\beta_T}
\newcommand{\xiT}{\xi}
\newcommand{\xipar}{\xi}

% --- Energy and Planck Units ---
\newcommand{\Ezero}{E_0}
\newcommand{\EPlanck}{E_{\text{Pl}}}
\newcommand{\Mpl}{M_{\text{Pl}}}
\newcommand{\mP}{m_{\text{P}}}
\newcommand{\lP}{\ell_{\text{P}}}
\newcommand{\tP}{t_{\text{P}}}
\newcommand{\LPlanck}{\ell_{\text{Pl}}}
\newcommand{\TPlanck}{t_{\text{Pl}}}

% --- Coupling Constants ---
\newcommand{\Gnat}{G_{\text{nat}}}
\newcommand{\alphaEM}{\alpha_{\text{EM}}}
\newcommand{\alphaSI}{\alpha_{\text{SI}}}
\newcommand{\Hubble}{H_0}
\newcommand{\LCDM}{\Lambda\text{CDM}}
\newcommand{\natunits}{(nat. units)}

% --- T0 Model Parameters ---
\newcommand{\xigeom}{\xi_{\mathrm{geom}}}
\newcommand{\rzero}{r_{0}}
\newcommand{\xirat}{\xi_{\mathrm{rat}}}
\newcommand{\tzero}{t_{0}}
\newcommand{\Lambdat}{\Lambda_{\mathrm{t}}}
\newcommand{\EP}{E_{\mathrm{P}}}
\newcommand{\Emu}{E_{\mu}}
\newcommand{\Ee}{E_{e}}
\newcommand{\Etau}{E_{\tau}}
\newcommand{\alphafine}{\alpha_{\mathrm{fine}}}
\newcommand{\alphal}{\alpha_{\ell}}
\newcommand{\Lzero}{\ell_{0}}
\newcommand{\Lp}{\ell_{\mathrm{P}}}

% --- Additional T0 Commands ---
\newcommand{\Kfrak}{K_{\text{frak}}}
\newcommand{\Dfrak}{D_{\text{frak}}}
\newcommand{\betapar}{\beta_T}
\newcommand{\alphapar}{\alpha}
\newcommand{\deltafield}{\delta \phi}
\newcommand{\deltam}{\delta m}
\newcommand{\deltaE}{\delta E}
\newcommand{\Exi}{E_{\xi}}
\newcommand{\Lxi}{\ell_{\xi}}
\newcommand{\rhoCMB}{\rho_{\text{CMB}}}
\newcommand{\rhoCasimir}{\rho_{\text{Casimir}}}
\newcommand{\Leff}{L_{\text{eff}}}
\newcommand{\CQCD}{C_{\mathrm{QCD}}}
\newcommand{\Kspec}{K_{\mathrm{spec}}}
\newcommand{\Tzero}{\ensuremath{T_0}}
\newcommand{\Eabs}{E_{\text{abs}}}
\newcommand{\taupar}{\tau}

% --- Provided Commands (may be redefined elsewhere) ---
\providecommand{\xiconst}{\xi_{\text{const}}}
\providecommand{\DhiggsT}{D_{\text{Higgs-T}}}
\providecommand{\rhoE}{\rho_{E}}
\providecommand{\Echar}{E_{\text{char}}}
\providecommand{\kfrac}{k_{\text{frac}}}
\providecommand{\alphaEMSI}{\alpha_{\text{EM,SI}}}
\providecommand{\alphaEMnat}{\alpha_{\text{EM,nat}}}
\providecommand{\betaTSI}{\beta_{T,\text{SI}}}
\providecommand{\betaTnat}{\beta_{T,\text{nat}}}
\providecommand{\Gsi}{G_{\text{SI}}}
\providecommand{\xiparSI}{\xi_{\text{SI}}}
\providecommand{\xiparnat}{\xi_{\text{nat}}}
\providecommand{\meff}{m_{\text{eff}}}
\providecommand{\Tzerot}{T_{0}(t)}
\providecommand{\mzerot}{m_{0}(t)}
\providecommand{\Ezeroabs}{E_{0,\text{abs}}}
\providecommand{\Epar}{E_{\text{par}}}
\providecommand{\Lnat}{\ell_{\text{nat}}}
\providecommand{\Tnat}{T_{\text{nat}}}
\providecommand{\xifrak}{\xi_{\text{frac}}}
\providecommand{\Tfrak}{T_{\text{frac}}}
\providecommand{\mfrak}{m_{\text{frac}}}
\providecommand{\Dfrac}{D_{\text{frac}}}
\providecommand{\EphotSI}{E_{\gamma,\text{SI}}}
\providecommand{\EphotNat}{E_{\gamma,\text{nat}}}
\providecommand{\Eabsint}{E_{\text{abs,int}}}
\providecommand{\mphoton}{m_{\gamma}}
\providecommand{\Evis}{E_{\text{vis}}}
\providecommand{\Cto}{C_{T0}}
\providecommand{\mytimes}{\times}
\providecommand{\lambdah}{\lambda_h}
\providecommand{\checkmarkx}{\checkmark}
\providecommand{\Enorm}{E_{\text{norm}}}
\providecommand{\Tobs}{T_{\text{obs}}}
\providecommand{\mobs}{m_{\text{obs}}}
\providecommand{\Eobs}{E_{\text{obs}}}
\providecommand{\Lobs}{\ell_{\text{obs}}}
\providecommand{\xobs}{\xi_{\text{obs}}}
\providecommand{\calE}{\mathcal{E}}
\providecommand{\calT}{\mathcal{T}}
\providecommand{\calM}{\mathcal{M}}
\providecommand{\alphag}{\alpha_g}
\providecommand{\Tmax}{T_{\text{max}}}
\providecommand{\mmin}{m_{\text{min}}}
\providecommand{\Lmax}{\ell_{\text{max}}}
\providecommand{\Emin}{E_{\text{min}}}
\providecommand{\Geff}{G_{\text{eff}}}
\providecommand{\rhoeff}{\rho_{\text{eff}}}
\providecommand{\xieff}{\xi_{\text{eff}}}
\providecommand{\Teff}{T_{\text{eff}}}
\providecommand{\hPlanck}{h}
\providecommand{\kB}{k_B}
\providecommand{\muB}{\mu_B}
\providecommand{\lambdaC}{\lambda_C}
\providecommand{\omegaP}{\omega_P}
\providecommand{\rhoP}{\rho_P}
\providecommand{\Tref}{T_{\text{ref}}}
\providecommand{\Eref}{E_{\text{ref}}}
\providecommand{\mref}{m_{\text{ref}}}
\providecommand{\Lref}{\ell_{\text{ref}}}
\providecommand{\xikonst}{\xi_0}
\providecommand{\Phiphoton}{\Phi_{\gamma}}
\providecommand{\etavis}{\eta_{\text{vis}}}
\providecommand{\pichar}{\pi}
\providecommand{\primrel}{\mathcal{P}_{\text{rel}}}
\providecommand{\warningx}{\textcolor{orange}{\textbf{!}}}
\providecommand{\phiT}{\phi_T}
\providecommand{\Lorentz}{\Lambda}
\providecommand{\Cconv}{C_{\text{conv}}}
\providecommand{\Df}{\Delta f}
\providecommand{\lambdazero}{\lambda_0}
\providecommand{\myapprox}{\approx}
\providecommand{\checked}{\checkmark}
\providecommand{\alphaWSI}{\alpha_W^{\text{SI}}}
\providecommand{\alphaWnat}{\alpha_W^{\text{nat}}}
\providecommand{\vect}[1]{\vec{#1}}
\providecommand{\Rzero}{R_0}
\providecommand{\Riem}{\mathcal{R}}
\providecommand{\nuzero}{\nu_0}
\providecommand{\mypi}{\pi}

% =============================================================================
% SECTION 15: tcolorbox Styles and Environments
% =============================================================================

% --- Predefined Styles ---
\tcbset{
    keyresult/.style={
        colback=blue!5!white,
        colframe=blue!75!black,
        title=Key Result,
        fonttitle=\bfseries
    },
    foundation/.style={
        colback=green!5!white,
        colframe=green!75!black,
        title=Foundation,
        fonttitle=\bfseries
    },
    alternative/.style={
        colback=orange!5!white,
        colframe=orange!75!black,
        title=Alternative,
        fonttitle=\bfseries
    },
    warningbox/.style={
        colback=red!5!white,
        colframe=red!75!black,
        title=Warning,
        fonttitle=\bfseries
    }
}

% --- Core Environments ---
\newtcolorbox{keyresultbox}[1][]{colback=blue!5!white,colframe=blue!75!black,fonttitle=\bfseries,title={#1},breakable}
\newtcolorbox{keyresult}[1][Key Result]{colback=blue!5!white,colframe=blue!75!black,fonttitle=\bfseries,title={#1},breakable}
\newtcolorbox{foundationbox}[1][]{colback=green!5!white,colframe=green!75!black,fonttitle=\bfseries,title={#1},breakable}
\newtcolorbox{foundation}[1][Foundation]{colback=green!5!white,colframe=green!75!black,fonttitle=\bfseries,title={#1},breakable}
\newtcolorbox{alternativebox}[1][]{colback=orange!5!white,colframe=orange!75!black,fonttitle=\bfseries,title={#1},breakable}
\newtcolorbox{warningboxenv}[1][]{colback=red!5!white,colframe=red!75!black,fonttitle=\bfseries,title={#1},breakable}

% --- Formula Environments ---
\newtcolorbox{fundamental}[1][]{
    colback=boxgray,
    colframe=t0blue,
    fonttitle=\bfseries,
    title=#1,
    sharp corners,
    boxrule=2pt
}

\newtcolorbox{newperspective}[1][]{
    colback=red!5!white,
    colframe=t0red,
    fonttitle=\bfseries,
    title=#1,
    sharp corners,
    boxrule=2pt
}

\newtcolorbox{formula}[1][]{
    colback=blue!5!white,
    colframe=blue!75!black,
    fonttitle=\bfseries,
    title=#1
}

\newtcolorbox{result}[1][]{
    colback=green!5!white,
    colframe=green!75!black,
    fonttitle=\bfseries,
    title=#1
}

\newtcolorbox{derivation}[1][]{
    colback=green!5!white,
    colframe=green!75!black,
    title=#1,
    fonttitle=\bfseries,
    breakable
}

\newtcolorbox{summary}[1][]{
    colback=gray!10!white,
    colframe=gray!75!black,
    title=#1,
    fonttitle=\bfseries,
    breakable
}

\newtcolorbox{comparison}[1][]{
    colback=purple!5!white,
    colframe=purple!75!black,
    title=#1,
    fonttitle=\bfseries,
    breakable
}

\newtcolorbox{relation}[1][]{
    colback=cyan!5!white,
    colframe=cyan!75!black,
    title=#1,
    fonttitle=\bfseries,
    breakable
}

\newtcolorbox{principleBox}[1][]{
    colback=yellow!5!white,
    colframe=yellow!75!black,
    title=#1,
    fonttitle=\bfseries,
    breakable
}

% --- Insight and Discovery Environments ---
\newtcolorbox{insightBox}[1][]{colback=blue!5,colframe=t0blue,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{discoveryBox}[1][]{colback=green!5,colframe=t0green,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{revelation}[1][]{colback=red!5,colframe=t0red,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{keypoint}[1][]{colback=blue!5,colframe=t0blue,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{evidence}[1][]{colback=green!5,colframe=t0green,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{conclusionBox}[1][]{colback=gray!5,colframe=gray,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{significance}[1][]{colback=yellow!5,colframe=orange,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{philosophical}[1][]{colback=purple!5,colframe=purple,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{implicationBox}[1][]{colback=cyan!5,colframe=cyan,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{perspectiveBox}[1][]{colback=blue!5,colframe=t0blue,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{revolutionary}[1][]{colback=red!5,colframe=t0red,title={#1},fonttitle=\bfseries,breakable}

% --- Technical Environments ---
\newtcolorbox{technical}[1][]{colback=gray!5,colframe=gray!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{technicalBox}[1][]{colback=gray!5,colframe=gray!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{notationBox}[1][]{colback=yellow!5,colframe=yellow!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{verification}[1][]{colback=orange!5!white,colframe=orange!75!black,fonttitle=\bfseries,title=#1}
\newtcolorbox{explanationBox}[1][]{colback=purple!5!white,colframe=purple!75!black,fonttitle=\bfseries,title=#1}
\newtcolorbox{interpretationBox}[1][]{colback=cyan!5!white,colframe=cyan!75!black,fonttitle=\bfseries,title=#1}
\newtcolorbox{explanation}[1][]{colback=purple!5!white,colframe=purple!75!black,fonttitle=\bfseries,title=#1,breakable}
\newtcolorbox{interpretation}[1][]{colback=cyan!5!white,colframe=cyan!75!black,fonttitle=\bfseries,title=#1,breakable}
\newtcolorbox{proof_step}[1][]{colback=gray!5!white,colframe=gray!75!black,fonttitle=\bfseries,title=#1,breakable}
\newtcolorbox{experimental}[1][]{colback=teal!5!white,colframe=teal!75!black,fonttitle=\bfseries,title=#1,breakable}

% --- Warning and Alert Environments ---
\newtcolorbox{important}[1][]{colback=red!5!white,colframe=red!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{warning}[1][]{colback=orange!5!white,colframe=orange!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{caution}[1][]{colback=yellow!5!white,colframe=yellow!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{highlight}[1][]{colback=yellow!10!white,colframe=yellow!75!black,title={#1},fonttitle=\bfseries,breakable}

% --- Additional German-specific Environments for Matsas documents ---
\newtcolorbox{literatur}[1][Literatur]{colback=blue!5!white,colframe=blue!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{zusammenfassung}[1][Zusammenfassung]{colback=green!5!white,colframe=green!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{frage}[1][Frage]{colback=orange!5!white,colframe=orange!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{erkenntnis}[1][Erkenntnis]{colback=purple!5!white,colframe=purple!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{critical}[1][]{colback=red!10!white,colframe=red!75!black,title={#1},fonttitle=\bfseries,breakable}

% --- Analysis and Application Environments ---
\newtcolorbox{analysis}[1][]{colback=blue!5!white,colframe=blue!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{application}[1][]{colback=green!5!white,colframe=green!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{experiment}[1][]{colback=cyan!5!white,colframe=cyan!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{historical}[1][]{colback=brown!5!white,colframe=brown!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{numerical}[1][]{colback=gray!5!white,colframe=gray!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{overview}[1][]{colback=blue!5!white,colframe=blue!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{speculation}[1][]{colback=purple!5!white,colframe=purple!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{question}[1][]{colback=orange!5!white,colframe=orange!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{method}[1][]{colback=teal!5!white,colframe=teal!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{correct}[1][]{colback=green!10!white,colframe=green!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{units}[1][]{colback=gray!5!white,colframe=gray!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{achievement}[1][]{colback=gold!5!white,colframe=orange!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{equivalence}[1][]{colback=cyan!5!white,colframe=cyan!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{dimensional}[1][]{colback=purple!5!white,colframe=purple!75!black,title={#1},fonttitle=\bfseries,breakable}

% --- Physics-specific Environments ---
\newtcolorbox{photon}[1][]{colback=yellow!5!white,colframe=yellow!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{neutrino}[1][]{colback=blue!5!white,colframe=blue!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{revolution}[1][]{colback=red!5!white,colframe=red!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{t0box}[1][]{colback=blue!5!white,colframe=t0blue,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{documentbox}[1][]{colback=gray!5!white,colframe=gray!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{sibox}[1][]{colback=green!5!white,colframe=green!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{smbox}[1][]{colback=blue!5!white,colframe=blue!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{pvbox}[1][]{colback=purple!5!white,colframe=purple!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{koidebox}[1][]{colback=orange!5!white,colframe=orange!75!black,title={#1},fonttitle=\bfseries,breakable}

% --- German Compatibility Environments ---
\newtcolorbox{formel}[1][]{colback=blue!5!white,colframe=blue!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{schluessel}[1][]{colback=blue!5!white,colframe=blue!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{wichtig}[1][]{colback=red!5!white,colframe=red!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{vorsicht}[1][]{colback=orange!5!white,colframe=orange!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{revolutionaer}[1][]{colback=red!5!white,colframe=red!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{numerisch}[1][]{colback=gray!5!white,colframe=gray!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{experimentell}[1][]{colback=cyan!5!white,colframe=cyan!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{anwendung}[1][]{colback=green!5!white,colframe=green!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{alternative}[1][]{colback=orange!5!white,colframe=orange!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{beziehung}[1][]{colback=cyan!5!white,colframe=cyan!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{folgerung}[1][]{colback=green!5!white,colframe=green!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{abhandlung}[1][]{colback=gray!5!white,colframe=gray!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{prinzipBox}[1][]{colback=blue!5!white,colframe=blue!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{prinzip}[1][]{colback=blue!5!white,colframe=blue!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{beweis}[1][]{colback=gray!5!white,colframe=gray!75!black,title={#1},fonttitle=\bfseries,breakable}
\newtcolorbox{key}[2][]{colback=blue!5!white,colframe=blue!75!black,title={#2},fonttitle=\bfseries,breakable}
\newtcolorbox{category}[1][]{colback=purple!5!white,colframe=purple!75!black,title={#1},fonttitle=\bfseries,breakable}

% =============================================================================
% SECTION 16: Additional Simple Environments
% =============================================================================
\newenvironment{treatise}{\begin{quote}}{\end{quote}}
\newenvironment{gemeinsam}{\begin{quote}}{\end{quote}}
\newenvironment{vergleich}{\begin{quote}}{\end{quote}}
\newenvironment{vorteil}{\begin{quote}}{\end{quote}}
\newenvironment{quantum}{\begin{quote}}{\end{quote}}

% =============================================================================
% SECTION 17: Layout Settings (Kindle-compatible)
% =============================================================================
\sloppy  % Allow more flexible line breaking
\hfuzz=65pt  % Suppress overfull warnings up to 65pt (Kindle compatibility)
\vfuzz=65pt  
\tolerance=9999  % High tolerance for bad line breaks
\emergencystretch=3em  % Extra stretch to avoid overfull boxes
\hbadness=10000  % Suppress underfull box warnings
\raggedbottom

% Environment for wide tables/longtables that need scaling
\newenvironment{scaledtable}[1][0.85]{%
  \begingroup\footnotesize\setlength{\LTleft}{0pt}\setlength{\LTright}{0pt}%
}{%
  \endgroup%
}

% Command for inline table scaling
\newcommand{\widetable}[1]{\resizebox{\textwidth}{!}{#1}}

% =============================================================================
% SECTION 18: Table of Contents Formatting
% =============================================================================
\renewcommand{\cftsecfont}{\color{blue}}
\renewcommand{\cftsubsecfont}{\color{blue}}
\renewcommand{\cftsecpagefont}{\color{blue}}
\renewcommand{\cftsubsecpagefont}{\color{blue}}
\renewcommand{\cfttoctitlefont}{\huge\bfseries\color{blue}}

% =============================================================================
% SECTION 19: Default Header and Footer
% =============================================================================
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\textsc{T0 Theory}}
\fancyhead[R]{\textsc{J. Pascher}}
\fancyfoot[C]{\thepage}

% ==============================================================================
% End of Shared Preamble
% ==============================================================================
